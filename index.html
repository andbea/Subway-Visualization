<!DOCTYPE html>
<html>
	<head>
		<meta http-equiv="content-type" content="text/html" charset="ISO-8859-1">

		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<title>Information Visualization - Project 4 - Subway History</title>

        <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
        <!-- Bootstrap CSS -->
        <link rel="stylesheet" href="http://netdna.bootstrapcdn.com/bootstrap/3.1.0/css/bootstrap.min.css">
        <script src="http://netdna.bootstrapcdn.com/bootstrap/3.1.0/js/bootstrap.min.js"></script>
        <link rel="stylesheet" href="css/style.css" media="screen" type="text/css" />
        <link rel="stylesheet" href="css/info-holder.css" media="screen" type="text/css" />

        <link href='http://fonts.googleapis.com/css?family=Raleway|Muli|Cinzel+Decorative' rel='stylesheet' type='text/css'>
        

        <script src="http://d3js.org/d3.v3.min.js"></script>

        <link rel="stylesheet" href="https://ajax.googleapis.com/ajax/libs/jquerymobile/1.4.3/jquery.mobile.min.css" />
        <script src="https://ajax.googleapis.com/ajax/libs/jquerymobile/1.4.3/jquery.mobile.min.js"></script>

		<script type="text/javascript" src = "js/playAndPause.js"></script>

        <!--script type="text/javascript" src = "js/updateColors.js"></script>-->
		
		<script type="text/javascript" src = "js/geoToXY.js"></script>
		<script type="text/javascript" src = "js/shiftLine.js"></script>
		<script type="text/javascript" src = "js/stationInfoHolder.js"></script>
		<script type="text/javascript" src = "js/populateInfo.js"></script>
		<script type="text/javascript" src = "js/getStationInfo.js"></script>
		<script type="text/javascript" src = "js/convertSymbols.js"></script>

		<script type="text/javascript" src = "js/stationInformation.js"></script>
		<script type="text/javascript" src = "js/changeStations.js"></script>
		<script type="text/javascript" src = "js/addStation.js"></script>
		<script type="text/javascript" src = "js/removeStation.js"></script>
		<script type="text/javascript" src = "js/findStation.js"></script>

		<script type="text/javascript" src = "js/connectionInformation.js"></script>
		<script type="text/javascript" src = "js/changeConnections.js"></script>
		<script type="text/javascript" src = "js/addConnection.js"></script>
		<script type="text/javascript" src = "js/removeConnection.js"></script>
		<script type="text/javascript" src = "js/shiftLine.js"></script>

		<script type="text/javascript" src = "js/populationDensity.js"></script>

		<script type="text/javascript" src = "js/zoom.js"></script>
		<script type="text/javascript" src = "js/addZoomLayer.js"></script>
		<script type="text/javascript" src = "js/addText.js"></script>

	</head>
	<body align="middle">
		<div class="row" id="container">
			<div class="col-sm-12 col-md-8">
				<div id="visual">
					<!-- <image id="img9" x="0" y="0" src='Stockholm.svg'></image> -->
					<svg id="map" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve">
					<g id="outer">
					<g id="wireframeMap">

					<g id="Farsta" name="Farsta" hektar="1538">
					<path fill="none" stroke="#000000" stroke-miterlimit="10" d="M1247.125,1531.5c2.625-2.5-17.438-19.375-17.438-19.375
					l-14.469-20.438l22.641-18.594l1.891,2.406h8.25l0.125-9.5l7.125-6.75l-7.75-8.5l-0.5-15l3-1.75l0.5-6.5l-4.5-4.5l-0.25-16
					l7.75-7.5h5.5l5.5-3.75l3.75,3.75l17.75,6.75l12,0.5l1.5,9l2.5,9.25l2.25,8.5l2.25,5l11.25-2.75l9.375,6.5l10.375,1.25v-3.5l7.25-4
					l8.5,11.5h2.75l2.5,2v6.5l6,7.312l2.75,15.438l3.75,9l-2.75,7.5l0.5,11.25l-2.625,5l6.375,6.25v3.25l-8.75,5.5l-7.25-2l-3.75,11.75
					l3,6.5l0.5,6.5l-6.5,2.75l-0.5,3.75l-17.75,9.75v9.5l-14.75-4.75l-11-4.125l-11.828-5.625H1281l-13-8.5l-15-16.375l-2.75,3.875
					h-4.75v-6.5C1245.5,1533,1244.5,1534,1247.125,1531.5z"/>
					</g>
					<g id="Vantor" name="Vantör" hektar="1020">
					<polygon fill="none" stroke="#000000" stroke-miterlimit="10" points="1229.812,1512.5 1215.281,1491.875 1237.891,1473.188
					1239.75,1475.5 1248,1475.5 1248.125,1466 1255.25,1459.25 1247.5,1450.75 1247,1435.75 1250,1434 1250.5,1427.5 1246,1423
					1245.75,1407 1253.5,1399.5 1255.25,1393.75 1249.25,1392.5 1244.75,1387.75 1229,1382.75 1216.25,1376 1204,1388 1188.5,1402
					1183.5,1401.75 1174,1407.5 1160.5,1415.75 1155.5,1422.5 1149.5,1432 1144.75,1438.75 1139,1444.062 1130.875,1451.5
					1132.5,1460.25 1132.5,1467 1143.75,1471 1155,1479.5 1163,1479.5 1167.75,1483.75 1169.25,1486.5 1177,1494 1185.5,1499.75
					1199.75,1505.5 1211.75,1510.75 1225.25,1516 "/>
					</g>
					<g id="Skarpnack" name="Skarpnäck" hektar="1565">
					<polygon fill="none" stroke="#000000" stroke-miterlimit="10" points="1317.666,1435.957 1327.083,1442.354 1337.5,1443.5
					1337.5,1440 1344.75,1436 1353.25,1447.5 1356,1447.5 1358.5,1449.5 1358.5,1456 1364.5,1463.312 1367.25,1478.75 1371,1487.75
					1368.25,1495.25 1368.75,1506.5 1366.125,1511.5 1372.5,1517.75 1372.5,1521 1395,1533.333 1417.667,1539 1435.333,1544
					1449,1548.667 1451,1553 1462.333,1555.25 1477.333,1560.5 1480,1560.5 1482.333,1553.333 1484,1507.541 1490.333,1498.5
					1481,1498.5 1470.667,1500 1462.333,1503.333 1455.667,1503.667 1445,1487.667 1437.333,1482.667 1435.667,1468 1435.333,1447.667
					1399,1437.333 1399.333,1416 1402,1409.333 1388.667,1392.667 1376.333,1383.333 1362,1370.667 1350.333,1361.333 1341.333,1343
					1344.667,1340.916 1360.667,1315.5 1352,1315.5 1342,1315.5 1335.667,1317 1327,1315.5 1324.667,1313.333 1316,1318 1291,1320
					1282,1324.333 1283.667,1331.333 1293.859,1340.667 1292.333,1360.333 1296.667,1361 1305.667,1357.667 1310,1358
					1310.333,1363.333 1310.667,1369.667 1304.584,1377.667 1307.5,1385.333 1307.5,1392 1312,1395.75 1318.333,1397.333
					1328,1402.667 1326,1413 1328.333,1418.333 1322.667,1432 "/>
					</g>
					<g id="Enskede_Arsta" name="Enskede-Årsta" hektar="881">
					<polygon fill="none" stroke="#000000" stroke-miterlimit="10" points="1197.807,1288.334 1206.5,1295.5 1215,1295.5
					1225.333,1306.5 1233.333,1307.667 1241.5,1310.333 1248.333,1312.166 1256.5,1314.5 1266,1314.5 1270,1311.667 1272,1316.167
					1277.833,1320.333 1282,1324.333 1283.667,1331.333 1293.859,1340.667 1292.333,1360.333 1296.667,1361 1305.667,1357.667
					1310,1358 1310.667,1369.667 1304.584,1377.667 1307.5,1385.333 1307.5,1392 1312,1395.75 1318.333,1397.333 1328,1402.667
					1326,1413 1328.333,1418.333 1322.667,1432 1317.666,1435.957 1306.5,1438.5 1304.25,1433.5 1299.5,1415.75 1298,1406.75
					1286,1406.25 1268.25,1399.5 1264.5,1395.75 1259,1399.5 1253,1399.5 1255.25,1393.75 1249.25,1392.5 1244.75,1387.75
					1229,1382.75 1216.25,1376 1211.912,1380.25 1207.5,1376.833 1215.219,1368.333 1221.167,1360.5 1227.667,1354.833
					1215.219,1349.333 1206.167,1345.5 1197.807,1339.5 1186,1335.333 1180.167,1328 1187.667,1321 1198.167,1308 1198.334,1300.166
					"/>
					</g>
					<g id="Sofia" name="Sofia" hektar="257">
					<polygon fill="none" stroke="#000000" stroke-miterlimit="10" points="1265.312,1296.958 1281.697,1288.396 1278.891,1277.031
					1275.258,1264.641 1275.629,1253.258 1284.252,1255.504 1294.751,1257.377 1307.438,1260.626 1321.5,1260.375 1321.5,1268
					1320,1270.125 1315.625,1273.875 1319.875,1277.875 1320.375,1280.875 1328.333,1289.625 1327,1315.5 1324.667,1313.333 1316,1318
					1291,1320 1282,1324.333 1272,1316.167 1270,1311.667 "/>
					</g>
					<g id="Katarina" name="Katarina" hektar="170">
					<polygon fill="none" stroke="#000000" stroke-miterlimit="10" points="1250.875,1248.125 1262.125,1250.5 1267.688,1251.625
					1275.598,1253.258 1275.242,1264.641 1278.883,1277.031 1281.693,1288.396 1265.311,1296.958 1269.999,1311.667 1266,1314.5
					1256,1314.5 1241.5,1310.333 1233.333,1307.667 1236,1303.25 1236.5,1299 1238.625,1291.5 1233.333,1289.25 1232.375,1285
					1238.375,1283.25 1245,1281.312 1248.125,1280.375 1248,1277.625 1254.25,1275.625 1257.034,1270.375 1255.125,1264
					1253.25,1257.5 "/>
					</g>
					<g id="Maria_Magdalena" name="Maria-Magdalena" hektar="80">
					<polygon fill="none" stroke="#000000" stroke-miterlimit="10" points="1229.25,1241.5 1237.917,1247.5 1250.875,1248.125
					1253.25,1257.5 1255.125,1264 1257.034,1270.375 1254.25,1275.625 1248,1277.625 1248.125,1280.375 1245,1281.312 1232.375,1285
					1230.083,1277.167 1227.833,1269.75 1231.083,1268 1228.333,1258.75 "/>
					</g>
					<g id="Hogalid" name="Högalid" hektar="243">
					<polygon fill="none" stroke="#000000" stroke-miterlimit="10" points="1152.75,1246.75 1146.25,1255.625 1152.25,1263.25
					1152.75,1265 1159.875,1270.375 1172.75,1272.5 1181.25,1276.5 1197.807,1288.334 1206.5,1295.5 1215,1295.5 1225.333,1306.5
					1233.333,1307.667 1236,1303.25 1236.5,1299 1238.625,1291.5 1233.333,1289.25 1232.375,1285 1230.083,1277.167 1227.833,1269.75
					1231.083,1268 1228.333,1258.75 1229.25,1241.5 1210.375,1242.625 1197,1243.125 1171.5,1244.375 "/>
					</g>
					<g id="Brannkyrka" name="Brännkyrka" hektar="1333">
					<polygon fill="none" stroke="#000000" stroke-miterlimit="10" points="1165.5,1366 1165.5,1351 1172.167,1337.833
					1174.667,1332.667 1180.167,1328 1186,1335.333 1197.807,1339.5 1206.167,1345.5 1215.219,1349.333 1227.667,1354.833
					1221.167,1360.5 1215.219,1368.333 1207.5,1376.833 1211.912,1380.25 1188.5,1402 1183.5,1401.75 1160.5,1415.75 1149.5,1432
					1144.75,1438.75 1139,1444.062 1130.875,1451.5 1132.5,1460.25 1132.5,1467 1121.5,1463 1109.334,1458.333 1098.166,1458.666
					1085.167,1449.833 1080.5,1445.166 1065.667,1436.666 1061.167,1427.333 1058.333,1427.166 1054,1420.5 1055.167,1405.166
					1055,1391.5 1037.167,1379.166 1035.5,1375 1047,1370 1047.333,1366.666 1057,1361.5 1069.333,1343.5 1085.5,1338
					1089.167,1345.333 1093.334,1354.834 1100.5,1365.5 1109,1365.5 1122.167,1357.833 1130.875,1348.667 1148.5,1366.167 "/>
					</g>
					<g id="Skarholmen" name="Skärholmen" hektar="884">
					<polygon fill="none" stroke="#000000" stroke-miterlimit="10" points="1020.5,1315 1020.5,1323 1026.5,1330.625 1026.5,1335
					1028.5,1338.375 1028.5,1344 1030.5,1344.75 1030.5,1348 1035.5,1352.5 1038.617,1373.645 1035.5,1375 1037.167,1379.166
					1021.375,1386.625 1001.75,1396 995.5,1397.5 993.25,1403 982,1406 978.875,1420.25 976.375,1431.25 970.375,1442.375
					946.75,1447.25 942.562,1440.875 934.5,1441.25 934.5,1436 927.25,1436.25 921.125,1444.375 913.625,1441 907.75,1428.875
					903.375,1426.5 891.5,1423.125 896.625,1407.125 891.5,1383.375 908.375,1380.5 930,1381.125 934.75,1365.25 943.75,1356.5
					955.375,1351.125 974.625,1332.375 981.875,1331.125 998.125,1324 1009,1320.75 1016.375,1319.25 "/>
					</g>
					<g id="Hagersten" name="Hägersten" hektar="1100">
					<polygon fill="none" stroke="#000000" stroke-miterlimit="10" points="1050.75,1293.062 1038.555,1304.969 1030.344,1309.234
					1024.484,1309.992 1020.5,1315 1020.5,1323 1026.5,1330.625 1026.5,1335 1028.5,1338.375 1028.5,1344 1030.5,1344.75 1030.5,1348
					1035.5,1352.5 1038.617,1373.645 1047,1370 1047.333,1366.666 1057,1361.5 1069.333,1343.5 1085.5,1338 1089.167,1345.333
					1093.334,1354.834 1100.5,1365.5 1109,1365.5 1122.167,1357.833 1130.875,1348.667 1148.5,1366.167 1165.5,1366 1165.5,1351
					1174.667,1332.667 1180.167,1328 1187.667,1321 1198.167,1308 1198.334,1300.166 1197.807,1288.334 1181.25,1276.5 1172.75,1272.5
					1159.875,1270.375 1152.75,1265 1152.25,1263.188 1146.25,1255.5 1133,1255.5 1121,1266.75 1096.375,1276.625 1088,1273.625
					1074.625,1287.625 1060.5,1292.25 "/>
					</g>
					<g id="Oscar" name="Oscar" hektar="865">
					<polygon fill="none" stroke="#000000" stroke-miterlimit="10" points="1268.584,1217 1281.651,1180.334 1264.313,1172
					1266.823,1167.5 1294.001,1150.5 1299,1150.5 1313.001,1156.834 1326.334,1164.667 1327.001,1169.167 1335.501,1166.167
					1349.167,1157 1368.501,1165.334 1408.834,1198.667 1410.667,1221.334 1417.001,1231.5 1411.501,1244.667 1408.001,1248.125
					1401.167,1251.667 1392.001,1254.334 1374.334,1249.167 1364.667,1252.167 1356.167,1252.5 1351.167,1257.167 1346.667,1258.334
					1340.657,1255.5 1329.834,1260.5 1321.5,1260.375 1307.438,1260.626 1293.825,1257.212 1294,1249 1284.417,1230.417 "/>
					</g>
					<g id="Hedvig_Eleonora" name="Hedvig-Eleonora" hektar="58">
					<polygon fill="none" stroke="#000000" stroke-miterlimit="10" points="1256.917,1203.666 1261.333,1197.75 1259.125,1196.084
					1267.889,1173.719 1281.651,1180.334 1268.584,1217 1261.583,1211.333 "/>
					</g>
					<g id="Engelbrekt" name="Engelbrekt" hektar="886">
					<polygon fill="none" stroke="#000000" stroke-miterlimit="10" points="1304.248,1080.667 1311.54,1104.584 1319.021,1113.125
					1321.511,1120.479 1336.005,1141.156 1349.17,1156.994 1335.502,1166.164 1327.002,1169.166 1326.334,1164.666 1313.001,1156.833
					1299,1150.5 1294,1150.5 1266.823,1167.5 1264.313,1172 1267.889,1173.719 1259.125,1196.084 1261.333,1197.75 1256.917,1203.666
					1245.583,1189.666 1236.5,1175.5 1236.5,1167 1229.5,1154.666 1226,1148.834 1218.334,1139.666 1217.167,1136.334 1209.5,1130.834
					1209.5,1126 1207,1117.5 1201.5,1103.666 1200,1098.5 1188.5,1085.666 1186.834,1079.334 1196,1076.166 1199,1072.666
					1197.334,1068.5 1206.167,1062.5 1227,1062.5 1232.5,1059.834 1248.334,1061.834 1258,1071.166 1269.284,1077.334 "/>
					</g>
					<g id="St_Johannes" name="S:t Johannes" hektar="81">
					<polygon fill="none" stroke="#000000" stroke-miterlimit="10" points="1203.5,1145 1203.5,1138 1209.5,1130.834 1217.167,1136.334
					1218.334,1139.666 1226,1148.834 1236.5,1167 1236.5,1176 1245.583,1189.666 1253.194,1199.068 1241.625,1200.25
					1239.875,1196.125 1231.875,1179 1227,1170.5 1223.25,1172.125 1211.5,1150.5 1208,1150.5 "/>
					</g>
					<g id="Adolf_Fredrik" name="Adolf Fredrik" hektar="54">
					<polygon fill="none" stroke="#000000" stroke-miterlimit="10" points="1214.375,1210.875 1239.875,1196.125 1231.875,1179
					1211.125,1190.625 1214.875,1196.75 1206,1202.875 1210.625,1206.25 "/>
					</g>
					<g id="Gustav_Vasa" name="Gustav Vasa" hektar="80">
					<polygon fill="none" stroke="#000000" stroke-miterlimit="10" points="1187.875,1197.625 1192.375,1199.625 1206,1202.875
					1214.875,1196.75 1211.125,1190.625 1231.875,1179 1227,1170.5 1223.25,1172.125 1219.083,1164.455 1199,1175.5 1203.5,1182.5
					1190.75,1190.625 "/>
					</g>
					<g id="St_Matteus" name="S:t Matteus" hektar="135">
					<polygon fill="none" stroke="#000000" stroke-miterlimit="10" points="1169.562,1190.5 1170.875,1185.5 1174,1185.5 1169.062,1179
					1179.5,1168.75 1179.5,1161 1184.375,1155.125 1198,1149 1200.125,1151.875 1202.125,1150.5 1203.5,1145 1208,1150.5 1211,1150.5
					1219.083,1164.455 1199,1175.5 1203.5,1182.5 1190.75,1190.625 1187.875,1197.625 1178.25,1193.875 "/>
					</g>
					<g id="Domkyrkoforsamlingen" name="Domkyrkoförsamlingen" hektar="175">
					<polygon fill="none" stroke="#000000" stroke-miterlimit="10" points="1229.375,1231.5 1229.25,1241.5 1237.917,1247.5
					1250.875,1248.125 1275.598,1253.258 1284.252,1255.504 1293.825,1257.212 1294,1249 1284.417,1230.417 1268.584,1217
					1261.583,1211.333 1256.917,1203.666 1253.194,1199.068 1241.625,1200.25 1239.875,1196.125 1214.375,1210.875 1218.5,1220
					1227.25,1227.5 "/>
					</g>
					<g id="Vastermalm" name="Västermalms församling" hektar="485">
					<polygon fill="none" stroke="#000000" stroke-miterlimit="10" points="1133.289,1183.665 1158.456,1189.834 1169.352,1190.5 1178.039,1193.875 1187.664,1197.625 1192.164,1199.625 1205.789,1202.875 1210.414,1206.25 
					1214.164,1210.875 1218.289,1220 1227.039,1227.5 1229.164,1231.5 1229.039,1241.5 1210.164,1242.625 1186.623,1243.623 
					1171.289,1244.375 1152.539,1246.75 1146.039,1255.5 1132.789,1255.5 1120.789,1266.75 1096.164,1276.625 1087.727,1273.625 
					1088.039,1261.125 1102.289,1243.75 1102.039,1238.5 1111.039,1225.75 1118.164,1212.625 1114.789,1201.25 1122.164,1187.375 "/>
					</g>
					<g id="Vasterled" name="Västerled" hektar="932">
					<polygon fill="none" stroke="#000000" stroke-miterlimit="10" points="1047.125,1231.5 1049.062,1227.312 1045.5,1220.125
					1045.5,1208 1047.328,1204.188 1045.5,1202.5 1041.5,1202.5 1041.5,1198 1039.25,1191.5 1043,1191.5 1046.25,1193 1050.5,1187.25
					1073.875,1186.062 1080.75,1178.5 1084,1178.5 1092.25,1173.25 1103,1175.75 1122.375,1187.375 1115,1201.25 1118.375,1212.625
					1111.25,1225.75 1102.25,1238.5 1102.5,1243.75 1088.25,1261.125 1087.938,1273.625 1074.625,1287.625 1060.5,1292.25
					1050.75,1293.062 1050.875,1289.875 1023.125,1269.125 992.375,1252.375 958.875,1233.875 956,1232.625 946.875,1221.5
					936.125,1216.125 944.5,1204.375 950.125,1202.75 975,1203.375 974.875,1186.125 990.375,1185.125 991.25,1195.875
					995.625,1193.25 998.375,1205.25 1011,1217.875 1026.562,1218 1031.5,1228.25 1031.5,1231 "/>
					</g>
					<g id="Bromma" name="Bromma" hektar="1530">
					<polygon fill="none" stroke="#000000" stroke-miterlimit="10" points="885.875,1188.5 909.75,1203.875 925.938,1216.75
					936.094,1216.125 944.484,1204.375 950.117,1202.75 974.996,1203.375 974.873,1186.125 990.374,1185.125 991.25,1195.875
					995.625,1193.25 998.375,1205.25 1011,1217.875 1026.562,1218 1031.5,1228.25 1031.5,1231 1047.125,1231.5 1049.062,1227.312
					1045.5,1220.125 1045.5,1208 1047.328,1204.188 1045.5,1202.5 1041,1202.5 1041.5,1198 1039.25,1191.5 1043,1191.5 1046.25,1193
					1050.5,1187.25 1073.875,1186.062 1080.75,1178.5 1084,1178.5 1092.25,1173.25 1085.625,1162.875 1081.5,1160.125
					1064.375,1143.625 1064,1139.625 1057.5,1126.375 1051.5,1117.25 1036.5,1104.5 1035.875,1101 1023.25,1095.875 1006.875,1089.25
					1002,1095.625 990.75,1091.75 986.75,1099.625 984.625,1106.75 980.75,1113.5 977,1120.25 971.5,1119.875 965.75,1119.125
					961,1118.25 948.5,1105.875 944.5,1109.25 944,1114.25 947,1116.5 940.875,1122.625 943.125,1127.625 936.125,1127.375
					925.75,1141 925.625,1151.375 921.375,1155.375 915.25,1148.75 914.375,1154.375 903.25,1152.375 899.875,1157 901.875,1159 "/>
					</g>
					<g id="Vallingby" name="Vällingby" hektar="967">
					<polygon fill="none" stroke="#000000" stroke-miterlimit="10" points="875.833,1107.667 830.333,1075.916 831.417,1072.959
					835.542,1074.062 836.521,1072.865 833.5,1070.5 833.5,1068 837.333,1063.167 837.667,1056.334 845.5,1045 857.167,1034.834
					885.875,1032.334 885.167,1062.834 892,1062.5 893.667,1060.834 897,1060.667 904.167,1065.167 907.167,1061.334 916.5,1067
					916.5,1075 924.5,1073.5 924.5,1071 928.833,1071.334 934.333,1077 935.833,1073.167 944.667,1081.667 934.5,1091.5 938,1096.834
					932.833,1105.5 938,1105 944.5,1109.25 944,1114.25 947,1116.5 940.875,1122.625 943.125,1127.625 936.125,1127.375 925.75,1141
					925.625,1151.375 921.375,1155.375 915.25,1148.75 914.375,1154.375 903.25,1152.375 899.875,1157 901.875,1159 885.875,1188.5
					866,1173.25 841.667,1157.5 841.333,1152.334 846,1145.667 842.333,1131.5 858.167,1117 869.333,1113.334 "/>
					</g>
					<g id="Hasselby" name="Hässelby" hektar="991">
					<polygon fill="none" stroke="#000000" stroke-miterlimit="10" points="765.167,1148.667 795.667,1139.334 806.5,1142
					822.333,1162.834 830.333,1163.334 841.667,1157.5 841.333,1152.334 846,1145.667 842.333,1131.5 858.167,1117 869.333,1113.334
					875.833,1107.667 830.333,1075.916 831.417,1072.959 835.542,1074.062 836.521,1072.865 833.5,1070.5 833.5,1068 837.333,1063.167
					837.667,1056.334 822.167,1057.334 812.167,1054.834 814.833,1020.667 797,996.167 765.833,1026 730,1000 698,1024.5 700,1032.334
					721.833,1048 739.5,1075.5 744.833,1091 749.833,1112.666 757.333,1129 "/>
					</g>
					<g id="Spanga_Kista" name="Spånga-Kista" hektar="2464">
					<polygon fill="none" stroke="#000000" stroke-miterlimit="10" points="962.5,895 983.5,918.5 1066.625,978.125 1037.875,994.875 
					1030.375,1005.25 1028.75,1018.75 1014.875,1035.875 1011.75,1035.75 1006.125,1045.25 1005.667,1053.667 994.333,1065 
					993.333,1074.334 1004.333,1082 1009,1082.667 1021,1089.25 1023.25,1095.875 1006.875,1089.25 1002,1095.625 990.75,1091.75 
					986.75,1099.625 984.625,1106.75 977,1120.25 961,1118.25 948.5,1105.875 944.5,1109.25 938,1105 932.833,1105.5 938,1096.834 
					934.5,1091.5 944.667,1081.667 935.833,1073.167 934.333,1077 928.833,1071.334 924.5,1071 924.5,1073.5 916.5,1075 916.5,1067 
					907.167,1061.334 904.167,1065.167 897,1060.667 893.667,1060.834 892,1062.5 885.167,1062.834 885.875,1032.334 857.167,1034.834 
					870.5,1027 888.667,1007 898.5,996.167 888.667,985 910,978.125 933.5,952 933.5,933.5 919,901.5 926.75,895 913,882 934.75,848.5 
					945,859.5 971.5,870.75 "/>
					</g>
					<g id="Huddinge_kommun" name="Huddinge Kommun" hektar="13101">
					<polygon fill="none" stroke="#000000" stroke-miterlimit="10" points="873,1452.25 887.75,1467.375 906.5,1473.5 906.5,1509
					910.5,1516 910.5,1536 923.5,1531.5 954,1544 965.059,1586.5 994,1586.5 1007.5,1601 1007.5,1667 1026,1707.5 1077.5,1721.5
					1090,1753.5 1094.5,1784 1117.5,1827.5 1133.5,1830.5 1192.5,1877 1268,1846 1305,1848 1328,1833.5 1312.5,1820 1339.5,1784
					1322,1724.5 1327,1719 1339.25,1724.5 1356.5,1710 1356.5,1699 1378.5,1683 1397.5,1684 1400,1673 1417,1673.5 1426.5,1657.5
					1468.5,1626.5 1451.5,1600 1456.097,1554.012 1451,1553 1449,1548.667 1417.667,1539 1395,1533.333 1372.5,1521 1363.75,1526.5
					1356.5,1524.5 1352.75,1536.25 1355.75,1542.75 1356.25,1549.25 1349.75,1552 1349.25,1555.75 1331.5,1565.5 1331.5,1575
					1305.75,1566.125 1293.922,1560.5 1281,1560.5 1268,1552 1253,1535.625 1250.25,1539.5 1245,1539.5 1245.5,1533 1247.125,1531.5
					1229.812,1512.5 1225.25,1516 1211.75,1510.75 1185.5,1499.75 1177,1494 1169.25,1486.5 1167.75,1483.75 1163,1479.5 1155,1479.5
					1143.75,1471 1132.5,1467 1109.334,1458.333 1098.166,1458.666 1085.167,1449.833 1080.5,1445.166 1065.667,1436.666
					1061.167,1427.333 1058.333,1427.166 1054,1420.5 1055.167,1405.166 1055,1391.5 1037.167,1379.166 1001.75,1396 995.5,1397.5
					993.25,1403 982,1406 978.875,1420.25 976.375,1431.25 970.375,1442.375 946.75,1447.25 942.562,1440.875 934.5,1441.25
					934.5,1436 927.25,1436.25 921.125,1444.375 913.625,1441 907.75,1428.875 903.375,1426.5 891.5,1423.125 "/>
					</g>
					<g id="Botkyrka_kommun" name="Botkyrka Kommun" hektar="19417">
					<polygon fill="none" stroke="#000000" stroke-miterlimit="10" points="1026,1879.5 1045,1879.5 1085.75,1845.75 1117.5,1827.5
					1094.5,1784 1090,1753.5 1077.5,1721.5 1026,1707.5 1007.5,1667 1007.5,1601 994,1586.5 965,1586.5 954,1544 923.5,1531.5
					910.5,1536 910.5,1516 906.5,1509 906.5,1474 887.75,1467.5 873,1452.5 857,1452.5 831.5,1470.667 780,1472 757.833,1468.666
					737.5,1482.333 708.167,1457.5 665,1451.5 648.333,1463.333 660.333,1516 672.333,1522.75 697,1547.5 711,1547.5 727,1552
					728.333,1585.333 721.667,1597.333 749,1616 759.668,1655.999 767.001,1688.666 776.334,1705.999 763.001,1721.999
					743.668,1724.666 710.334,1746.666 693.668,1744.666 683.668,1755.332 669.668,1759.999 667.668,1773.999 680.334,1787.332
					661.001,1802.666 674.334,1809.332 675.001,1829.999 668.334,1832.583 667.001,1844.5 656,1844.5 656.334,1877 620.334,1887.332
					604.334,1911.999 577.668,1926.666 602.334,2031.999 565.001,2044 545.001,2085.333 581.668,2147.333 571.668,2158.917
					617.001,2232.5 642,2232.5 647.001,2206 678.335,2186 695.668,2164.667 688.335,2104.667 681.668,2097.333 718.335,2046
					749.001,2051.333 770.335,2070.667 827.668,2051.333 847.001,2072 891.668,2084.667 920.085,2080.667 996.5,2017.333 996.5,2005
					980.667,2004.001 997,1990.667 991,1964.667 1009.333,1956.667 992,1930.667 "/>
					</g>
					<g id="Nacka_kommun" name="Nacka Kommun" hektar="9512">
					<path fill="none" stroke="#000000" stroke-miterlimit="10" d="M1437.168,1236.25l-20.417-4.625l-5.375,13.104l-3.438,3.427
					l-6.803,3.526l-9.15,2.659l-17.659-5.171l-9.663,2.998l-8.498,0.332l-4.999,4.667l-4.499,1.166l-6.01-2.834l-10.823,5l-8.334-0.125
					V1268l-1.5,2.125l-4.375,3.75l4.25,4l0.5,3l7.958,8.75L1327,1315.5l8.667,1.5l6.333-1.5h19l-16.333,25.416l-3.334,2.084l9,18.333
					l11.667,9.334l14.333,12.666l12.334,9.334l13.333,16.666l-2.667,6.667l-0.333,21.333l36.333,10.334l0.334,20.333l1.666,14.667
					l7.667,5c0,0,0.051,0.077,3.18,4.77s7.487,11.23,7.487,11.23l6.666-0.334l8.334-3.333l10.333-1.5h9l15-13.125l18,10.625l59.75-24.5
					l27.75,6.5v-15l26-20.5l31.5,24.5l23.5,13.5l37,1.5l101,60.5l2.5-109.5l-118-53.834l-10-19.666l8.5-15.5l-7.5-59l8-18.5l-12-22.162
					l24-33.463l-9-10.625l23,5.312l54-31.844L1753,1143l-3-30l-14.5-14l-8.5-6l-1.5-14.5l-21.5-10h-45l-7,11l-63,27l-83.5,76
					l-39.5,17.75l-9,21.25L1437.168,1236.25z"/>
					</g>
					<g id="Solna_kommun" name="Solna Kommun" hektar="1930">
					<polygon fill="none" stroke="#000000" stroke-miterlimit="10" points="1179.646,1030.541 1221.322,1057.104 1224.333,1062.5
					1206,1062.5 1197.334,1068.5 1199,1072.666 1196,1076.166 1186.834,1079.334 1188.5,1085.666 1200,1098.5 1201.5,1103.666
					1209.5,1126 1209.5,1131 1203.5,1138 1203.5,1145 1202.125,1150.5 1200.125,1151.875 1198,1149 1184.375,1155.125 1179.5,1161
					1179.5,1169 1169.062,1179 1174,1185.5 1171,1185.5 1169.521,1190.562 1157.916,1190.25 1133.833,1183.915 1122.375,1187.375
					1103,1175.75 1092.25,1173.25 1085.625,1162.875 1081.5,1160.125 1064.375,1143.625 1064,1139.625 1078.333,1135.667
					1082,1128.667 1074.667,1120.25 1086.667,1116.333 1082.333,1110.417 1092.25,1059.834 1081.333,1051.333 1083.667,1036.667
					1050.667,1020.667 1059.333,1008.667 1069,1007 1069.667,1001.333 1083.667,1005.667 1094.333,997.333 1092.25,987.667
					1125.667,982.333 1145,990 1154.333,1014.667 1166,1013.667 "/>
					</g>
					<g id="Sundbyberg_kommun" name="Sundbyberg Kommun" hektar="867">
					<polygon fill="none" stroke="#000000" stroke-miterlimit="10" points="1075.375,989.125 1089.259,1001.297 1083.667,1005.667 
					1069.667,1001.333 1069,1007 1059.333,1008.667 1050.667,1020.667 1083.667,1036.667 1081.333,1051.333 1092.25,1059.834 
					1082.333,1110.417 1086.667,1116.333 1074.667,1120.25 1082,1128.667 1078.333,1135.667 1064,1139.625 1057.5,1126.375 
					1051.5,1117.25 1036.5,1104.5 1035.875,1101 1023.25,1095.875 1021,1089.25 1009,1082.667 1004.333,1082 993.333,1074.334 
					994.333,1065 1005.667,1053.667 1006.125,1045.25 1011.75,1035.75 1014.875,1035.875 1028.75,1018.75 1030.375,1005.25 
					1037.875,994.875 1066.625,978.125 "/>
					</g>
					<g id="Danderyds_kommun" name="Danderyds Kommun" hektar="2640">
					<polygon fill="none" stroke="#000000" stroke-miterlimit="10" points="1208,851 1208,898 1261.5,898 1288.5,926 1333,936 
					1333,996.167 1318,992 1297.5,996.167 1277.5,1032.334 1288,1052 1306.5,1065 1304.248,1080.667 1269.284,1077.334 1258,1071.166 
					1248.334,1061.834 1232.5,1059.834 1227,1062.5 1224.333,1062.5 1221.322,1057.104 1179.646,1030.541 1166,1013.667 
					1154.333,1014.667 1145,990 1125.667,982.333 1100,923.5 1117.5,893.5 1134.5,886.5 1111,848.5 1124,839 1158,855 1186.834,844.5 "/>
					</g>
					<g id="Jarfalla_kommun" name="Järfälla Kommun" hektar="5381">
					<polygon fill="none" stroke="#000000" stroke-miterlimit="10" points="637.5,929 685.5,893.5 691,858.5 710.5,819.5 747.5,761 
					736,749.5 747.5,692.5 738.5,672.5 747.5,619 765,616.5 781.5,630.5 812,678 824.5,672.5 827,684.5 810.5,728.5 795.916,756.5 
					814.5,757 815,767.5 836.5,783 836.5,804 876,804.5 891,823 891,865 902,874.5 896.5,891.5 919,901.5 933.5,933.5 933.5,952 
					910,978.125 888.667,985 898.5,996.167 888.667,1007 870.5,1027 857.167,1034.834 845.5,1045 837.667,1056.334 822.167,1057.334 
					812.167,1054.834 814.833,1020.667 797,996.167 765.833,1026 730,1000 698,1024.5 663.5,959.005 "/>
					</g>
					</g>
					</g>
					</svg>
				</div>
				<!-- <div id="map"></div> -->
				<div class="row">
		            <div class="col-sm-11 col-md-11">
			            <div id="slider" data-role="fieldcontain">
			                <input type="range" name="slider-1" id="slider-1" value="1949" min="1949" max="2025" data-highlight="true"/>
			            </div>
			        </div>
			        <div class="col-sm-1 col-md-1" style="padding-top: 12px; padding-bottom: 12px;">
		        		<button type="button" class="btn btn-default" onclick="playAndPause()" style="padding: 5px 2px">
							<span id="playPauseButton" class="glyphicon glyphicon-play" aria-hidden="true"></span>
						</button>
			        </div>
		        </div>
		    </div>
			<div class="col-sm-12 col-md-4" id="information">
				
				
				<!-- <div id='img-holder'>
					<ul>
						<li><a href="#"><img src="img/stations/Alvik_1.jpg" height="400" alt="" /></a></li>
						<li><a href="#"><img src="img/stations/Brommaplan_1.jpg"  height="220" alt="" /></a></li>
						<li><a href="#"><img src="img/stations/Tekniskahögskolan_1.jpg"  height="220" alt="" /></a></li>
						<li><a href="#"><img src="img/stations/Midsommarkransen_1.jpg" height="220" alt="" /></a></li>
			
					</ul>

				</div>  --><!-- ends image holder -->

				<div id="carousel-example-generic" class="carousel slide" data-ride="carousel" data-interval='false'>
					  <!-- Indicators -->
					  <ol class="carousel-indicators">
					    <li data-target="#carousel-example-generic" data-slide-to="0" class="active"></li>
					    <li data-target="#carousel-example-generic" data-slide-to="1"></li>
					    <li data-target="#carousel-example-generic" data-slide-to="2"></li>
					  </ol>

					  <!-- Wrapper for slides -->
					  <div id='img-holder' class="carousel-inner" role="listbox">
					    <div class="item active">
					      <img src="img/stations/Midsommarkransen_1.jpg" alt="...">
					
					    </div>

					    <div class="item">
					      <img src="img/stations/Midsommarkransen_1.jpg" alt="...">
					    
					    </div>
					    
					  </div>

					  <!-- Controls -->
					  <a class="left carousel-control" href="#carousel-example-generic" role="button" data-slide="prev">
					    <span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>
					    <span class="sr-only">Previous</span>
					  </a>
					  <a class="right carousel-control" href="#carousel-example-generic" role="button" data-slide="next">
					    <span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span>
					    <span class="sr-only">Next</span>
					  </a>
					</div>



				
				<div id="info-text-wrap">
				<h1 id='title'>T-Centralen</h1>
					<p id='inaug'><strong>Invigning:</strong> 18 november 1958</p>
					<p id='art'><strong>Stationens konstverk:</strong> Den konstnärliga utsmyckningen består av abstrakta muraler av glaserade kakelplattor. Konstverken är gjorda av Rigmor Roxner 1999 och inspirerade av spårvagnstrafikens kakelklädda stationer</p>
					<p id='history'><strong>Historiska fakta:</strong> Den konstnärliga utsmyckningen på stationen anknyter till Brommas och flygets historia och närheten till Bromma flygplats. Den är framställd av Peter Svedberg år 1996 och utförd i plåt, glas, aluminium och fotografiska bilder.</p>
				</div><!--  ends info-text-wrap -->
			</div> <!-- ends information -->
		</div>
		<style>
			/*.wireframeMap {
				z-index: -1;
				position: absolute;
				top: 0;
				left: 0;
			}
			.subwayGroup {
				z-index: 0;
				position: absolute;
				top: 500px;
				left: 500px;
			}*/
			line {
	            fill: none;
	            stroke-width: 4px;
	        }

	        circle {
	            stroke: gray;
	            stroke-width: 1px;
	            fill: white;
	        }
		</style>
		<script>
			var startYear = 1949;
			var year_shown = startYear,
				year_entered = startYear,
				height =  document.getElementById('visual').clientHeight,
				width = document.getElementById('visual').clientWidth,
	            stationCircleRadius = 4
	            stationCircleRadius_Highlighted = 10;
			
			//Putting my variables here *Dan*
			var canvasWidth = document.getElementById('visual').clientWidth;
			var canvasHeight = height;
			//Coordinates for the map's lower right corner
			var map_eastSouth = [18.500000, 59.238944];
			//Coordinates for the maps upper left corner
			var map_westNorth = [17.770396, 59.397478];
			var xScale = canvasWidth/(map_eastSouth[0]-map_westNorth[0]);
			var yScale = canvasHeight/(map_westNorth[1]-map_eastSouth[1]);

			var callbacks = $.Callbacks();
			var stations = returnStations();
			var connections = returnConnections();
			var stationInfoHolder= returnStationInfo();
			/*var map = d3.select("#img9")
			.attr("height",height)
			.attr("width",width);*/
			

			// This sets the starting position for the map so that it is centered in the canvas
			
			var mapPositionX = -700;
			var mapPositionY = -1000;
			var mapScale = 1;
			
			var parishLayer = false;

			d3.select("#outer").attr("transform", "translate(" + mapPositionX+ "," + mapPositionY + ")scale(" + mapScale+ ")");

	        var svg = d3.select("#map")
				.attr("id", "map")
	            .attr("width", width)
	            .attr("height", height)
	            .call(d3.behavior.zoom().translate([mapPositionX,mapPositionY]).scaleExtent([0.3, 10]).on("zoom", zoom))
				.style("fill", "#image;");


			

			var subwayGroup = d3.select("#outer").append("g").attr("class", "subwayGroup")
				.attr("transform", "translate(" + 750 + "," + 1000 + ")");
			
			// This initiates the lines that can be added.
	        var line = subwayGroup.append("g")
	        	.selectAll("line")
	            .data([connections]);

	        // This initiates the circles that can be added.
	        var subway = subwayGroup.append("g")
	        	.selectAll("circle")
	            .data([stations]);

           var tooltip = d3.select("#container")
			    .append("div")
			    .style("position", "absolute")
			    .style("visibility", "hidden")
			    .style("background", "white")
			    .style("padding", "5px")
			    .style("border", "1px solid LightGray")
			    .style("border-radius", "5px");
		
			// Code for loading data, adding slider event handler and adding colors
			
			d3.tsv("data/rawdata.tsv", function(error, data) {
			
				var li = [];
				var i = 0;
				
				data.forEach(function(d) {
					
					li.push(populationDensity(++data[i].Vastermalm, $("#Vastermalm").attr("hektar")));
					li.push(populationDensity(++data[i].Vantor, $("#Vantor").attr("hektar")));
					li.push(populationDensity(++data[i].Farsta, $("#Farsta").attr("hektar")));
					li.push(populationDensity(++data[i].Bromma, $("#Bromma").attr("hektar")));
					li.push(populationDensity(++data[i].Hagersten, $("#Hagersten").attr("hektar")));
					li.push(populationDensity(++data[i].Hasselby, $("#Hasselby").attr("hektar")));
					li.push(populationDensity(++data[i].Skarpnack, $("#Skarpnack").attr("hektar")));
					li.push(populationDensity(++data[i].St_Johannes, $("#St_Johannes").attr("hektar")));
					li.push(populationDensity(++data[i].St_Matteus, $("#St_Matteus").attr("hektar")));
					li.push(populationDensity(++data[i].Adolf_Fredrik, $("#Adolf_Fredrik").attr("hektar")));
					li.push(populationDensity(++data[i].Brannkyrka, $("#Brannkyrka").attr("hektar")));
					li.push(populationDensity(++data[i].Skarholmen, $("#Skarholmen").attr("hektar")));
					li.push(populationDensity(++data[i].Engelbrekt, $("#Engelbrekt").attr("hektar")));
					li.push(populationDensity(++data[i].Sofia, $("#Sofia").attr("hektar")));
					li.push(populationDensity(++data[i].Hogalid, $("#Hogalid").attr("hektar")));
					li.push(populationDensity(++data[i].Hedvig_Eleonora, $("#Hedvig_Eleonora").attr("hektar")));
					li.push(populationDensity(++data[i].Katarina, $("#Katarina").attr("hektar")));
					li.push(populationDensity(++data[i].Vasterled, $("#Vasterled").attr("hektar")));
					li.push(populationDensity(++data[i].Vallingby, $("#Vallingby").attr("hektar")));
					li.push(populationDensity(++data[i].Spanga_Kista, $("#Spanga_Kista").attr("hektar")));
					li.push(populationDensity(++data[i].Oscar, $("#Oscar").attr("hektar")));
					li.push(populationDensity(++data[i].Maria_Magdalena, $("#Maria_Magdalena").attr("hektar")));
					li.push(populationDensity(++data[i].Enskede_Arsta, $("#Enskede_Arsta").attr("hektar")));
					li.push(populationDensity(++data[i].Gustav_Vasa, $("#Gustav_Vasa").attr("hektar")));
					li.push(populationDensity(++data[i].Domkyrkoforsamlingen, $("#Domkyrkoforsamlingen").attr("hektar")));
					li.push(populationDensity(++data[i].Solna_kommun, $("#Solna_kommun").attr("hektar")));
					li.push(populationDensity(++data[i].Danderyds_kommun, $("#Danderyds_kommun").attr("hektar")));
					li.push(populationDensity(++data[i].Botkyrka_kommun, $("#Botkyrka_kommun").attr("hektar")));
					li.push(populationDensity(++data[i].Huddinge_kommun, $("#Huddinge_kommun").attr("hektar")));
					li.push(populationDensity(++data[i].Sundbyberg_kommun, $("#Sundbyberg_kommun").attr("hektar")));
					li.push(populationDensity(++data[i].Jarfalla_kommun, $("#Jarfalla_kommun").attr("hektar")));
					li.push(populationDensity(++data[i].Nacka_kommun, $("#Nacka_kommun").attr("hektar")));
					
					i++;
				});
				
				var minValue = Math.min.apply(null, li),
					maxValue = Math.max.apply(null, li);
			
				/*var colorscale = d3.scale.linear()
					.domain([0, maxValue/4, maxValue/2, 3*maxValue/2, maxValue])
					.range(["white", "#EDE574", "#F9D423", "#FC913A", "#FA6900"]);*/
					
				var colorscale = d3.scale.linear()
					.domain([minValue, maxValue])
					.range(["#FAF6F2", "#D66000"]);
				
				$("#slider").change(function() {
					year_entered = $("#slider-1").val();
					changeStations();
					changeConnections();
					
					var n = (parseInt(year_entered)-1950);
					
					if(n >= 0){
					
					$("#Vastermalm").children("polygon").attr("fill", function(d,i){ return colorscale( 			populationDensity(++data[n].Vastermalm, $("#Vastermalm").attr("hektar")) );});
					$("#Vantor").children("polygon").attr("fill", function(d,i){ return colorscale( 				populationDensity(++data[n].Vantor, $("#Vantor").attr("hektar")) );});
					$("#Farsta").children("path").attr("fill", function(d,i){ return colorscale( 					populationDensity(++data[n].Farsta, $("#Farsta").attr("hektar")) );});
					$("#Bromma").children("polygon").attr("fill", function(d,i){ return colorscale( 				populationDensity(++data[n].Bromma, $("#Bromma").attr("hektar")) );});
					$("#Hagersten").children("polygon").attr("fill", function(d,i){ return colorscale( 				populationDensity(++data[n].Hagersten, $("#Hagersten").attr("hektar")) );});
					$("#Hasselby").children("polygon").attr("fill", function(d,i){ return colorscale( 				populationDensity(++data[n].Hasselby, $("#Hasselby").attr("hektar")) );});
					$("#Skarpnack").children("polygon").attr("fill", function(d,i){ return colorscale( 				populationDensity(++data[n].Skarpnack, $("#Skarpnack").attr("hektar")) );});
					$("#St_Johannes").children("polygon").attr("fill", function(d,i){ return colorscale(	 		populationDensity(++data[n].St_Johannes, $("#St_Johannes").attr("hektar")) );});
					$("#St_Matteus").children("polygon").attr("fill", function(d,i){ return colorscale( 			populationDensity(++data[n].St_Matteus, $("#St_Matteus").attr("hektar")) );});
					$("#Adolf_Fredrik").children("polygon").attr("fill", function(d,i){ return colorscale( 			populationDensity(++data[n].Adolf_Fredrik, $("#Adolf_Fredrik").attr("hektar")) );});
					$("#Brannkyrka").children("polygon").attr("fill", function(d,i){ return colorscale( 			populationDensity(++data[n].Brannkyrka, $("#Brannkyrka").attr("hektar")) );});
					$("#Skarholmen").children("polygon").attr("fill", function(d,i){ return colorscale( 			populationDensity(++data[n].Skarholmen, $("#Skarholmen").attr("hektar")) );});
					$("#Engelbrekt").children("polygon").attr("fill", function(d,i){ return colorscale( 			populationDensity(++data[n].Engelbrekt, $("#Engelbrekt").attr("hektar")) );});
					$("#Sofia").children("polygon").attr("fill", function(d,i){ return colorscale( 					populationDensity(++data[n].Sofia, $("#Sofia").attr("hektar")) );});
					$("#Hogalid").children("polygon").attr("fill", function(d,i){ return colorscale( 				populationDensity(++data[n].Hogalid, $("#Hogalid").attr("hektar")) );});
					$("#Hedvig_Eleonora").children("polygon").attr("fill", function(d,i){ return colorscale( 		populationDensity(++data[n].Hedvig_Eleonora, $("#Hedvig_Eleonora").attr("hektar")) );});
					$("#Katarina").children("polygon").attr("fill", function(d,i){ return colorscale( 				populationDensity(++data[n].Katarina, $("#Katarina").attr("hektar")) );});
					$("#Vasterled").children("polygon").attr("fill", function(d,i){ return colorscale( 				populationDensity(++data[n].Vasterled, $("#Vasterled").attr("hektar")) );});
					$("#Vallingby").children("polygon").attr("fill", function(d,i){ return colorscale( 				populationDensity(++data[n].Vallingby, $("#Vallingby").attr("hektar")) );});
					$("#Spanga_Kista").children("polygon").attr("fill", function(d,i){ return colorscale( 			populationDensity(++data[n].Spanga_Kista, $("#Spanga_Kista").attr("hektar")) );});
					$("#Oscar").children("polygon").attr("fill", function(d,i){ return colorscale( 					populationDensity(++data[n].Oscar, $("#Oscar").attr("hektar")) );});
					$("#Maria_Magdalena").children("polygon").attr("fill", function(d,i){ return colorscale( 		populationDensity(++data[n].Maria_Magdalena, $("#Maria_Magdalena").attr("hektar")) );});
					$("#Enskede_Arsta").children("polygon").attr("fill", function(d,i){ return colorscale( 			populationDensity(++data[n].Enskede_Arsta, $("#Enskede_Arsta").attr("hektar")) );});
					$("#Gustav_Vasa").children("polygon").attr("fill", function(d,i){ return colorscale( 			populationDensity(++data[n].Gustav_Vasa, $("#Gustav_Vasa").attr("hektar")) );});
					$("#Domkyrkoforsamlingen").children("polygon").attr("fill", function(d,i){ return colorscale( 	populationDensity(++data[n].Domkyrkoforsamlingen, $("#Domkyrkoforsamlingen").attr("hektar")) );});
					$("#Solna_kommun").children("polygon").attr("fill", function(d,i){ return colorscale( 			populationDensity(++data[n].Solna_kommun, $("#Solna_kommun").attr("hektar")) );});
					$("#Danderyds_kommun").children("polygon").attr("fill", function(d,i){ return colorscale( 		populationDensity(++data[n].Danderyds_kommun, $("#Danderyds_kommun").attr("hektar")) );});
					$("#Botkyrka_kommun").children("polygon").attr("fill", function(d,i){ return colorscale( 		populationDensity(++data[n].Botkyrka_kommun, $("#Botkyrka_kommun").attr("hektar")) );});
					$("#Huddinge_kommun").children("polygon").attr("fill", function(d,i){ return colorscale( 		populationDensity(++data[n].Huddinge_kommun, $("#Huddinge_kommun").attr("hektar")) );});
					$("#Sundbyberg_kommun").children("polygon").attr("fill", function(d,i){ return colorscale( 		populationDensity(++data[n].Sundbyberg_kommun, $("#Sundbyberg_kommun").attr("hektar")) );});
					$("#Jarfalla_kommun").children("polygon").attr("fill", function(d,i){ return colorscale( 			populationDensity(++data[n].Jarfalla_kommun, $("#Jarfalla_kommun").attr("hektar")) );});
					$("#Nacka_kommun").children("path").attr("fill", function(d,i){ return colorscale( 				populationDensity(++data[n].Nacka_kommun, $("#Nacka_kommun").attr("hektar")) );});
				}
				});
			});

			//add label for the parishes on the map and hide them
			addZoomLayer();
			$(".parishLabel").hide();
			

		</script>
    </body>
</html>
